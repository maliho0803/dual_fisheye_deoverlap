# dual_fisheye_deoverlap
about single fisheye camera calibration, dual camera calibration.

this repo is mainly about de-overlap the same object that appear in both fisheye camera

1、鱼眼图像矫正
	采用张正友相机标定方法，获取鱼眼摄像头的内参和畸变系数。*调整鱼眼摄像头和棋盘格的相对位置进行拍照获取8幅以上照片，多多益善。拍摄角度尽可能多样，图像做到遍历整个图像画面。


2、双目鱼眼立体校正
	想要知道视差，首先应该知道双目视觉系统中两个摄像头之间的相对位置关系。我们可以通过同时对两个摄像头进行标定，分别得到二者相对同一坐标系的旋转矩阵和平移矩阵。获得这两个矩阵的过程，就是立体标定的过程。计算目标点在左右两个视图上形成的视差，首先要把该点在左右视图上两个对应的像点匹配起来。然而，在二维空间上匹配对应点是非常耗时的，为了减少匹配搜索范围，利用极线约束使得对应点的匹配由二维搜索降为一维搜索。

立体校正分两步走：
a)双目立体标定，获取旋转、平移矩阵

b)Bouguet极线对齐

3、深度计算
1.立体匹配	

2.深度计算	

3、图像去重
a)物体检测模块分别对左、右图中进行检测，获得检测框位置和类别信息。
b)以左图为基（与计算视差时基准保持一致），针对左图中待检测区域内的检测结果进行遍历，计算每个检测框区域内的平均视差；
c)根据左图中检测框中心位置，以及平均视差，获取该物体在右图中的位置
将计算得到的物体位置与检测模块给出的检测结果进行对比，如果二者的中心位置差别在阈值范围以内，则认为是重复检测物体，否则不是。
